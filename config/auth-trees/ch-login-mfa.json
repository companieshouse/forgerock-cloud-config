{
	"nodes": [
		{
			"_id": "a6eb5385-ac12-4359-8f0f-9a588ca5a334",
			"nodeType": "PageNode",
			"details": {
				"nodes": [{
					"_id": "cf8de09d-51a6-444a-8d77-77570d94631e",
					"nodeType": "ValidatedUsernameNode",
					"displayName": "Platform Username"
				}, {
					"_id": "bd201d63-6810-48eb-a77e-387eae4a6ea8",
					"nodeType": "ValidatedPasswordNode",
					"displayName": "Platform Password"
				}],
				"pageDescription": {
					"en": "New here? <a href=\"#/service/Registration\">Create an account</a><br><a href=\"#/service/ForgottenUsername\">Forgot username?</a><a href=\"#/service/ResetPassword\"> Forgot password?</a>"
				},
				"pageHeader": {
					"en": "Sign In"
				},
				"stage": "LOGIN_MFA_1"
			}
		},
		{
			"_id": "cf8de09d-51a6-444a-8d77-77570d94631e",
			"nodeType": "ValidatedUsernameNode",
			"details": {
				"validateInput": false,
				"usernameAttribute": "userName"
			}
		},
		{
			"_id": "bd201d63-6810-48eb-a77e-387eae4a6ea8",
			"nodeType": "ValidatedPasswordNode",
			"details": {
				"validateInput": false,
				"passwordAttribute": "password"
			}
		},
		{
			"_id": "77f75f06-34de-4045-a9f2-73b01bf79a3b",
			"nodeType": "DataStoreDecisionNode",
			"details": {}
		},
		{
			"_id": "97b35ef6-74bf-4f46-a0d3-dab716e40249",
			"nodeType": "IdentifyExistingUserNode",
			"details": {
				"identifier": "userName",
				"identityAttribute": "userName"
			}
		},
		{
			"_id": "c3f22327-1e32-4f18-957f-731aa9c97dd5",
			"nodeType": "ScriptedDecisionNode",
			"details": {
				"outcomes": ["true", "false"],
				"inputs": ["*"],
				"outputs": ["*"],
				"script": "b480d9f7-5908-45cf-91d1-bc1fe56fe8de"
			}
		},
		{
			"_id": "fdcf16b0-de65-4219-a8e6-713f20235fe4",
			"nodeType": "ScriptedDecisionNode",
			"details": {
				"inputs": ["*"],
				"outcomes": ["true", "false"],
				"outputs": ["*"],
				"script": "df67765e-df3a-4503-9ba5-35c992b39259"
			}
		},
		{
			"_id": "f8cba5d7-0906-40c0-bd61-df601a04cf9f",
			"nodeType": "OneTimePasswordGeneratorNode",
			"details": {
				"length": 6
			}
		},
		{
			"_id": "5c3d2eda-3ea6-4fdc-8421-e29a5b2aecda",
			"nodeType": "ScriptedDecisionNode",
			"details": {
				"inputs": ["*"],
				"outcomes": ["true", "false"],
				"outputs": ["*"],
				"script": "b276c566-622e-11eb-ae93-0242ac130002"
			}
		},
		{
			"_id": "9e7e7c6c-fe82-4ea0-9199-c99e438ece95",
			"nodeType": "OneTimePasswordCollectorDecisionNode",
			"details": {
				"passwordExpiryTime": 30
			}
		},
		{
			"_id": "15993a44-70e7-4799-b35c-a245acb9ccc6",
			"nodeType": "IncrementLoginCountNode",
			"details": {
				"identityAttribute": "userName"
			}
		},
		{
			"_id": "de45e2b0-1462-4423-a397-80df1255f4ea",
			"nodeType": "InnerTreeEvaluatorNode",
			"details": {
				"tree": "ProgressiveProfile"
			}
		},
		{
			"_id": "028a75de-c133-4e3f-8569-158ee1094b78",
			"nodeType": "ScriptedDecisionNode",
			"details": {
				"outcomes": ["true", "false"],
				"inputs": ["*"],
				"outputs": ["*"],
				"script": "20a3599f-b742-4554-a8b7-27862f248dd5"
			}
		},
		{
			"_id": "0c25a25f-7673-4bff-9d20-b4eecf9b6ca5",
			"nodeType": "ScriptedDecisionNode",
			"details": {
				"outcomes": ["true"],
				"inputs": ["*"],
				"outputs": ["*"],
				"script": "d7da3b35-af63-499b-aa0a-bb03666508db"
			}
		},
		{
			"_id": "b6c21d0e-4e55-47c0-8a58-e86939c93c14",
			"nodeType": "ScriptedDecisionNode",
			"details": {
				"outcomes": ["true", "false"],
				"inputs": ["*"],
				"outputs": ["*"],
				"script": "df67765e-df3a-4503-9ba5-35c992b39259"
			}
		},
		{
			"_id": "c8e1a748-a423-41ff-9971-b4a879ec01d7",
			"nodeType": "OneTimePasswordGeneratorNode",
			"details": {
				"length": 6
			}
		},
		{
			"_id": "1cf909f8-28a3-45de-9c61-8653f8fe2398",
			"nodeType": "ScriptedDecisionNode",
			"details": {
				"outcomes": ["true", "false"],
				"inputs": ["*"],
				"outputs": ["*"],
				"script": "a5778ce7-addf-4fb6-a7db-92929f1314c4"
			}
		},
		{
			"_id": "bed7617c-467f-49df-bb86-2e42de21d706",
			"nodeType": "PageNode",
			"details": {
				"nodes": [{
					"_id": "e78833e1-01dc-4a67-8c17-61ff03db90f2",
					"nodeType": "ChoiceCollectorNode",
					"displayName": "Choice Collector"
				}],
				"pageHeader": {
					"header": "How do you want to confirm it's you?"
				},
				"pageDescription": {
					"desc": "How do you want to confirm it's you?"
				},
			    "stage": "LOGIN_MFA_2"
			}
		},
		{
			"_id": "e78833e1-01dc-4a67-8c17-61ff03db90f2",
			"nodeType": "ChoiceCollectorNode",
			"details": {
				"choices": ["email", "text"],
				"defaultChoice": "email",
				"prompt": "How do you want to confirm it's you?"
			}
		},
		{
			"_id": "82b05c8c-258d-41fd-a38e-5d3326a709bc",
			"nodeType": "PageNode",
			"details": {
				"nodes": [{
					"_id": "de3eacd3-368d-4ddf-b135-bf6b7a7ac2bf",
					"nodeType": "ScriptedDecisionNode",
					"displayName": "Scripted Decision"
				}, {
					"_id": "3bfabc18-f160-426f-8806-8b176585c7bd",
					"nodeType": "OneTimePasswordCollectorDecisionNode",
					"displayName": "OTP Collector Decision"
				}],
				"pageHeader": {
					"header": "Please enter your code"
				},
				"pageDescription": {
					"desc": "Please enter the code you received"
				},
				"stage": "LOGIN_MFA_3"
			}
		},
		{
			"_id": "de3eacd3-368d-4ddf-b135-bf6b7a7ac2bf",
			"nodeType": "ScriptedDecisionNode",
			"details": {
				"outcomes": ["True"],
				"inputs": ["*"],
				"outputs": ["*"],
				"script": "ace951c8-d169-4426-9357-d5b44e0aa728"
			}
		},
		{
			"_id": "3bfabc18-f160-426f-8806-8b176585c7bd",
			"nodeType": "OneTimePasswordCollectorDecisionNode",
			"details": {
				"passwordExpiryTime": 30
			}
		},
		{
			"_id": "6982586f-8c46-4f87-b315-bfba9ea0a704",
			"nodeType": "ScriptedDecisionNode",
			"details": {
				"inputs": ["*"],
				"outcomes": ["true"],
				"outputs": ["*"],
				"script": "bf6c0ac8-8e13-4f11-8d99-d01b23e02a5c"
			}
		},
		{
			"_id": "cec99933-f999-4718-840b-2327746a9a98",
			"nodeType": "RetryLimitDecisionNode",
			"details": {
				"retryLimit": 3
			}
		}
	],
  "tree": {
		"_id": "CHLoginMFA",
		"description": "Platform Login Tree",
		"identityResource": "managed/alpha_user",
		"entryNodeId": "a6eb5385-ac12-4359-8f0f-9a588ca5a334",
		"staticNodes": {
			"startNode": {
				"x": 70,
				"y": 190
			},
			"70e691a5-1e33-4ac3-a356-e7b6d60d92e0": {
				"x": 3403,
				"y": 241.66666666666666
			},
			"e301438c-0bd0-429c-ab0c-66126501069a": {
				"x": 3319,
				"y": 779.3333333333334
			}
		},
		"uiConfig": {},
		"nodes": {
			"15993a44-70e7-4799-b35c-a245acb9ccc6": {
				"x": 2672,
				"y": 197.5,
				"connections": {
					"outcome": "0c25a25f-7673-4bff-9d20-b4eecf9b6ca5"
				},
				"nodeType": "IncrementLoginCountNode",
				"displayName": "Increment Login Count"
			},
			"5c3d2eda-3ea6-4fdc-8421-e29a5b2aecda": {
				"x": 2136,
				"y": 80,
				"connections": {
					"false": "e301438c-0bd0-429c-ab0c-66126501069a",
					"true": "82b05c8c-258d-41fd-a38e-5d3326a709bc"
				},
				"nodeType": "ScriptedDecisionNode",
				"displayName": "Send MFA text via Notify"
			},
			"77f75f06-34de-4045-a9f2-73b01bf79a3b": {
				"x": 455,
				"y": 172.5,
				"connections": {
					"false": "e301438c-0bd0-429c-ab0c-66126501069a",
					"true": "97b35ef6-74bf-4f46-a0d3-dab716e40249"
				},
				"nodeType": "DataStoreDecisionNode",
				"displayName": "Data Store Decision"
			},
			"97b35ef6-74bf-4f46-a0d3-dab716e40249": {
				"x": 691,
				"y": 172.5,
				"connections": {
					"false": "e301438c-0bd0-429c-ab0c-66126501069a",
					"true": "028a75de-c133-4e3f-8569-158ee1094b78"
				},
				"nodeType": "IdentifyExistingUserNode",
				"displayName": "Identify Existing User"
			},
			"a6eb5385-ac12-4359-8f0f-9a588ca5a334": {
				"x": 210,
				"y": 145,
				"connections": {
					"outcome": "77f75f06-34de-4045-a9f2-73b01bf79a3b"
				},
				"nodeType": "PageNode",
				"displayName": "Page Node"
			},
			"c3f22327-1e32-4f18-957f-731aa9c97dd5": {
				"x": 1168,
				"y": 172.5,
				"connections": {
					"false": "b6c21d0e-4e55-47c0-8a58-e86939c93c14",
					"true": "bed7617c-467f-49df-bb86-2e42de21d706"
				},
				"nodeType": "ScriptedDecisionNode",
				"displayName": "Has Phone Number"
			},
			"de45e2b0-1462-4423-a397-80df1255f4ea": {
				"x": 3161,
				"y": 172.5,
				"connections": {
					"false": "e301438c-0bd0-429c-ab0c-66126501069a",
					"true": "70e691a5-1e33-4ac3-a356-e7b6d60d92e0"
				},
				"nodeType": "InnerTreeEvaluatorNode",
				"displayName": "Inner Tree Evaluator"
			},
			"f8cba5d7-0906-40c0-bd61-df601a04cf9f": {
				"x": 1906,
				"y": 113.33333333333334,
				"connections": {
					"outcome": "5c3d2eda-3ea6-4fdc-8421-e29a5b2aecda"
				},
				"nodeType": "OneTimePasswordGeneratorNode",
				"displayName": "HOTP Generator"
			},
			"fdcf16b0-de65-4219-a8e6-713f20235fe4": {
				"x": 1634,
				"y": 80,
				"connections": {
					"false": "e301438c-0bd0-429c-ab0c-66126501069a",
					"true": "f8cba5d7-0906-40c0-bd61-df601a04cf9f"
				},
				"nodeType": "ScriptedDecisionNode",
				"displayName": "Create Notify JWT - SMS"
			},
			"028a75de-c133-4e3f-8569-158ee1094b78": {
				"x": 939,
				"y": 172.5,
				"connections": {
					"true": "c3f22327-1e32-4f18-957f-731aa9c97dd5",
					"false": "15993a44-70e7-4799-b35c-a245acb9ccc6"
				},
				"nodeType": "ScriptedDecisionNode",
				"displayName": "Require MFA"
			},
			"0c25a25f-7673-4bff-9d20-b4eecf9b6ca5": {
				"x": 2931,
				"y": 197.5,
				"connections": {
					"true": "de45e2b0-1462-4423-a397-80df1255f4ea"
				},
				"nodeType": "ScriptedDecisionNode",
				"displayName": "Update Last Login"
			},
			"b6c21d0e-4e55-47c0-8a58-e86939c93c14": {
				"x": 1637,
				"y": 265,
				"connections": {
					"true": "c8e1a748-a423-41ff-9971-b4a879ec01d7",
					"false": "e301438c-0bd0-429c-ab0c-66126501069a"
				},
				"nodeType": "ScriptedDecisionNode",
				"displayName": "Create Notify JWT - Email"
			},
			"c8e1a748-a423-41ff-9971-b4a879ec01d7": {
				"x": 1922,
				"y": 287.66666666666663,
				"connections": {
					"outcome": "1cf909f8-28a3-45de-9c61-8653f8fe2398"
				},
				"nodeType": "OneTimePasswordGeneratorNode",
				"displayName": "HOTP Generator"
			},
			"1cf909f8-28a3-45de-9c61-8653f8fe2398": {
				"x": 2136,
				"y": 265,
				"connections": {
					"false": "e301438c-0bd0-429c-ab0c-66126501069a",
					"true": "82b05c8c-258d-41fd-a38e-5d3326a709bc"
				},
				"nodeType": "ScriptedDecisionNode",
				"displayName": "Send MFA email via Notify"
			},
			"bed7617c-467f-49df-bb86-2e42de21d706": {
				"x": 1402,
				"y": 46.015625,
				"connections": {
					"email": "b6c21d0e-4e55-47c0-8a58-e86939c93c14",
					"text": "fdcf16b0-de65-4219-a8e6-713f20235fe4"
				},
				"nodeType": "PageNode",
				"displayName": "Choose Email/SMS"
			},
			"82b05c8c-258d-41fd-a38e-5d3326a709bc": {
				"x": 2457,
				"y": 63.015625,
				"connections": {
					"true": "15993a44-70e7-4799-b35c-a245acb9ccc6",
					"false": "cec99933-f999-4718-840b-2327746a9a98"
				},
				"nodeType": "PageNode",
				"displayName": "Enter OTP"
			},
			"6982586f-8c46-4f87-b315-bfba9ea0a704": {
				"x": 2823,
				"y": 347.015625,
				"connections": {
					"true": "82b05c8c-258d-41fd-a38e-5d3326a709bc"
				},
				"nodeType": "ScriptedDecisionNode",
				"displayName": "Raise Error"
			},
			"cec99933-f999-4718-840b-2327746a9a98": {
				"x": 2604,
				"y": 314.015625,
				"connections": {
					"Retry": "6982586f-8c46-4f87-b315-bfba9ea0a704",
					"Reject": "e301438c-0bd0-429c-ab0c-66126501069a"
				},
				"nodeType": "RetryLimitDecisionNode",
				"displayName": "Retry Limit Decision"
			}
		}
	}
}
