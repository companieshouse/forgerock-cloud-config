{
  "nodes": [
    {
      "_id": "0245c9e5-297b-4092-9e40-e3453f3581b6",
      "nodeType": "ScriptedDecisionNode",
      "details": {
        "script": "1a6815f1-0272-490b-8d6b-69609c3ee9d6",
        "outcomes": [
          "true",
          "false"
        ],
        "outputs": [
          "*"
        ],
        "inputs": [
          "*"
        ]
      }
    },
    {
      "_id": "048b731f-e190-4f52-98e3-18e5c009a2d0",
      "nodeType": "ScriptedDecisionNode",
      "details": {
        "script": "c0ab8c9c-b9b2-4bb7-b427-f10ddf9db149",
        "outcomes": [
          "success",
          "error"
        ],
        "outputs": [
          "*"
        ],
        "inputs": [
          "*"
        ]
      }
    },
    {
      "_id": "170c78c3-ec39-46e0-b533-23c4d5aeb914",
      "nodeType": "ScriptedDecisionNode",
      "details": {
        "script": "0be76ade-2b6c-4ee9-8ffb-5b8c4d7446da",
        "outcomes": [
          "true"
        ],
        "outputs": [
          "*"
        ],
        "inputs": [
          "*"
        ]
      }
    },
    {
      "_id": "17c4c923-5d2d-4b22-8850-a4a4d8904a3d",
      "nodeType": "InnerTreeEvaluatorNode",
      "details": {
        "tree": "CHMultiFactorGeneric"
      }
    },
    {
      "_id": "24595c6d-40a2-4592-a8f2-7823bb5d84be",
      "nodeType": "ScriptedDecisionNode",
      "details": {
        "script": "c056951c-622e-11eb-ae93-0242ac130002",
        "outcomes": [
          "true",
          "false"
        ],
        "outputs": [
          "*"
        ],
        "inputs": [
          "*"
        ]
      }
    },
    {
      "_id": "26f0bca6-8070-4d16-a5bc-8c3136e0057e",
      "nodeType": "ScriptedDecisionNode",
      "details": {
        "script": "df67765e-df3a-4503-9ba5-35c992b39259",
        "outcomes": [
          "true",
          "false"
        ],
        "outputs": [
          "*"
        ],
        "inputs": [
          "*"
        ]
      }
    },
    {
      "_id": "30518af8-5af3-45e1-bd23-d404e13d922b",
      "nodeType": "ScriptedDecisionNode",
      "details": {
        "script": "8b203967-fa57-4ce2-9dad-2f387ca52a61",
        "outcomes": [
          "resend",
          "change_email"
        ],
        "outputs": [
          "*"
        ],
        "inputs": [
          "*"
        ]
      }
    },
    {
      "_id": "453352a5-1e8a-4696-a439-0f09555ebc4f",
      "nodeType": "ScriptedDecisionNode",
      "details": {
        "script": "d67457d4-b0ed-4b77-9ca1-23295246c9fd",
        "outcomes": [
          "true"
        ],
        "outputs": [
          "*"
        ],
        "inputs": [
          "*"
        ]
      }
    },
    {
      "_id": "4a12b6bb-4412-49f4-8276-715e329c1d9f",
      "nodeType": "ScriptedDecisionNode",
      "details": {
        "script": "eac3ce3e-0dae-4eea-8ec8-cb9be9479ee4",
        "outcomes": [
          "true",
          "error"
        ],
        "outputs": [
          "*"
        ],
        "inputs": [
          "*"
        ]
      }
    },
    {
      "_id": "6ca3881c-7762-4280-a8be-692395b136d4",
      "nodeType": "ScriptedDecisionNode",
      "details": {
        "script": "e69b137b-1bae-4804-af6b-6a93371733ca",
        "outcomes": [
          "true"
        ],
        "outputs": [
          "*"
        ],
        "inputs": [
          "*"
        ]
      }
    },
    {
      "_id": "781e185e-f4da-442b-9fcd-827a4f235066",
      "nodeType": "ScriptedDecisionNode",
      "details": {
        "script": "3e1aa9b2-7ca9-4292-8378-a08b27f09fd5",
        "outcomes": [
          "resend",
          "change_email",
          "error"
        ],
        "outputs": [
          "*"
        ],
        "inputs": [
          "*"
        ]
      }
    },
    {
      "_id": "817f8595-f2cc-45ce-b4f8-ad7aa6fdd1ea",
      "nodeType": "IdentifyExistingUserNode",
      "details": {
        "identityAttribute": "mail",
        "identifier": "userName"
      }
    },
    {
      "_id": "83d28f4a-5397-4553-a131-135de0ee2b6d",
      "nodeType": "ScriptedDecisionNode",
      "details": {
        "script": "6b876ea7-c36e-475a-9706-f2ff658543cb",
        "outcomes": [
          "success",
          "error"
        ],
        "outputs": [
          "*"
        ],
        "inputs": [
          "*"
        ]
      }
    },
    {
      "_id": "997cc39b-afde-4935-b9b5-a0d4e3034072",
      "nodeType": "ScriptedDecisionNode",
      "details": {
        "script": "df67765e-df3a-4503-9ba5-35c992b39259",
        "outcomes": [
          "true",
          "false"
        ],
        "outputs": [
          "*"
        ],
        "inputs": [
          "*"
        ]
      }
    },
    {
      "_id": "9e02588a-e4ac-4b08-b10f-ad8f298ae720",
      "nodeType": "ScriptedDecisionNode",
      "details": {
        "script": "b6ca4a1f-573f-4a3a-a410-d18b01207f6e",
        "outcomes": [
          "true",
          "false"
        ],
        "outputs": [
          "*"
        ],
        "inputs": [
          "*"
        ]
      }
    },
    {
      "_id": "a87fa542-b6d3-49a1-bbdf-30370ae7042e",
      "nodeType": "ScriptedDecisionNode",
      "details": {
        "script": "000c65e1-c9c6-4edb-96d2-298a9b152b40",
        "outcomes": [
          "false",
          "true"
        ],
        "outputs": [
          "*"
        ],
        "inputs": [
          "*"
        ]
      }
    },
    {
      "_id": "d4cff847-705b-44ed-81c9-c9da0ece05b5",
      "nodeType": "ScriptedDecisionNode",
      "details": {
        "script": "1a6815f1-0272-490b-8d6b-69609c3ee9d6",
        "outcomes": [
          "true",
          "false"
        ],
        "outputs": [
          "*"
        ],
        "inputs": [
          "*"
        ]
      }
    },
    {
      "_id": "ab220199-6960-4c90-8b18-f0089ab56fac",
      "nodeType": "ScriptedDecisionNode",
      "details": {
        "script": "65d72980-a481-47b3-82c8-95cd34656af1",
        "outcomes": [
          "continue",
          "change"
        ],
        "outputs": [
          "*"
        ],
        "inputs": [
          "*"
        ]
      }
    }
  ],
  "tree": {
    "_id": "CHRegistration",
    "identityResource": "managed/alpha_user",
    "uiConfig": {},
    "entryNodeId": "170c78c3-ec39-46e0-b533-23c4d5aeb914",
    "nodes": {
      "0245c9e5-297b-4092-9e40-e3453f3581b6": {
        "connections": {
          "false": "6ca3881c-7762-4280-a8be-692395b136d4",
          "true": "24595c6d-40a2-4592-a8f2-7823bb5d84be"
        },
        "displayName": "Load Keys",
        "nodeType": "ScriptedDecisionNode",
        "x": 497,
        "y": 747.015625
      },
      "048b731f-e190-4f52-98e3-18e5c009a2d0": {
        "connections": {
          "error": "6ca3881c-7762-4280-a8be-692395b136d4",
          "success": "83d28f4a-5397-4553-a131-135de0ee2b6d"
        },
        "displayName": "Get IDM token",
        "nodeType": "ScriptedDecisionNode",
        "x": 308,
        "y": 220
      },
      "170c78c3-ec39-46e0-b533-23c4d5aeb914": {
        "connections": {
          "true": "4a12b6bb-4412-49f4-8276-715e329c1d9f"
        },
        "displayName": "Capture Name & Email",
        "nodeType": "ScriptedDecisionNode",
        "x": 229,
        "y": 90.015625
      },
      "17c4c923-5d2d-4b22-8850-a4a4d8904a3d": {
        "connections": {
          "false": "6ca3881c-7762-4280-a8be-692395b136d4",
          "true": "997cc39b-afde-4935-b9b5-a0d4e3034072"
        },
        "displayName": "Check OTP SubFlow",
        "nodeType": "InnerTreeEvaluatorNode",
        "x": 749,
        "y": 396.015625
      },
      "24595c6d-40a2-4592-a8f2-7823bb5d84be": {
        "connections": {
          "false": "6ca3881c-7762-4280-a8be-692395b136d4",
          "true": "30518af8-5af3-45e1-bd23-d404e13d922b"
        },
        "displayName": "Send Pwd Reset email",
        "nodeType": "ScriptedDecisionNode",
        "x": 714,
        "y": 829.015625
      },
      "26f0bca6-8070-4d16-a5bc-8c3136e0057e": {
        "connections": {
          "false": "6ca3881c-7762-4280-a8be-692395b136d4",
          "true": "0245c9e5-297b-4092-9e40-e3453f3581b6"
        },
        "displayName": "Create Notify JWT",
        "nodeType": "ScriptedDecisionNode",
        "x": 436,
        "y": 601.015625
      },
      "30518af8-5af3-45e1-bd23-d404e13d922b": {
        "connections": {
          "change_email": "170c78c3-ec39-46e0-b533-23c4d5aeb914",
          "resend": "781e185e-f4da-442b-9fcd-827a4f235066"
        },
        "displayName": "Email Sent Confirmation",
        "nodeType": "ScriptedDecisionNode",
        "x": 1724,
        "y": 143.015625
      },
      "453352a5-1e8a-4696-a439-0f09555ebc4f": {
        "connections": {
          "true": "26f0bca6-8070-4d16-a5bc-8c3136e0057e"
        },
        "displayName": "Set User Existing",
        "nodeType": "ScriptedDecisionNode",
        "x": 342,
        "y": 484.015625
      },
      "4a12b6bb-4412-49f4-8276-715e329c1d9f": {
        "connections": {
          "error": "170c78c3-ec39-46e0-b533-23c4d5aeb914",
          "true": "ab220199-6960-4c90-8b18-f0089ab56fac"
        },
        "displayName": "Check Name & Email",
        "nodeType": "ScriptedDecisionNode",
        "x": 492,
        "y": 66.015625
      },
      "6ca3881c-7762-4280-a8be-692395b136d4": {
        "connections": {},
        "displayName": "General Error",
        "nodeType": "ScriptedDecisionNode",
        "x": 1519,
        "y": 684.015625
      },
      "781e185e-f4da-442b-9fcd-827a4f235066": {
        "connections": {
          "change_email": "170c78c3-ec39-46e0-b533-23c4d5aeb914",
          "resend": "997cc39b-afde-4935-b9b5-a0d4e3034072"
        },
        "displayName": "Resend Or Change address",
        "nodeType": "ScriptedDecisionNode",
        "x": 1068,
        "y": 228.015625
      },
      "817f8595-f2cc-45ce-b4f8-ad7aa6fdd1ea": {
        "connections": {
          "false": "a87fa542-b6d3-49a1-bbdf-30370ae7042e",
          "true": "453352a5-1e8a-4696-a439-0f09555ebc4f"
        },
        "displayName": "Identify Existing User",
        "nodeType": "IdentifyExistingUserNode",
        "x": 303,
        "y": 327.015625
      },
      "83d28f4a-5397-4553-a131-135de0ee2b6d": {
        "connections": {
          "error": "817f8595-f2cc-45ce-b4f8-ad7aa6fdd1ea",
          "success": "817f8595-f2cc-45ce-b4f8-ad7aa6fdd1ea"
        },
        "displayName": "Create/Update user",
        "nodeType": "ScriptedDecisionNode",
        "x": 86,
        "y": 450.015625
      },
      "997cc39b-afde-4935-b9b5-a0d4e3034072": {
        "connections": {
          "false": "6ca3881c-7762-4280-a8be-692395b136d4",
          "true": "d4cff847-705b-44ed-81c9-c9da0ece05b5"
        },
        "displayName": "Create Notify JWT - Email",
        "nodeType": "ScriptedDecisionNode",
        "x": 886,
        "y": 39
      },
      "9e02588a-e4ac-4b08-b10f-ad8f298ae720": {
        "connections": {
          "false": "6ca3881c-7762-4280-a8be-692395b136d4",
          "true": "30518af8-5af3-45e1-bd23-d404e13d922b"
        },
        "displayName": "Create & Email link",
        "nodeType": "ScriptedDecisionNode",
        "x": 1465,
        "y": 57.015625
      },
      "a87fa542-b6d3-49a1-bbdf-30370ae7042e": {
        "connections": {
          "false": "997cc39b-afde-4935-b9b5-a0d4e3034072",
          "true": "17c4c923-5d2d-4b22-8850-a4a4d8904a3d"
        },
        "displayName": "Check phone entered",
        "nodeType": "ScriptedDecisionNode",
        "x": 496,
        "y": 232.015625
      },
      "d4cff847-705b-44ed-81c9-c9da0ece05b5": {
        "connections": {
          "false": "6ca3881c-7762-4280-a8be-692395b136d4",
          "true": "9e02588a-e4ac-4b08-b10f-ad8f298ae720"
        },
        "displayName": "Load Keys",
        "nodeType": "ScriptedDecisionNode",
        "x": 1198,
        "y": 36.015625
      },
      "ab220199-6960-4c90-8b18-f0089ab56fac": {
        "displayName": "Confirm Registration Choices",
        "nodeType": "ScriptedDecisionNode",
        "x": 53,
        "y": 202,
        "connections": {
          "change": "170c78c3-ec39-46e0-b533-23c4d5aeb914",
          "continue": "048b731f-e190-4f52-98e3-18e5c009a2d0"
        }
      }
    },
    "description": "Registration Tree for CH Users - First part (email sending)",
    "staticNodes": {
      "startNode": {
        "x": 70,
        "y": 80
      },
      "70e691a5-1e33-4ac3-a356-e7b6d60d92e0": {
        "x": 1764,
        "y": 501
      },
      "e301438c-0bd0-429c-ab0c-66126501069a": {
        "x": 1901,
        "y": 502
      }
    },
    "enabled": true
  }
}