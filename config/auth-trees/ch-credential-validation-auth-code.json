{
    "nodes": [
        {
            "_id": "3e5d584e-833e-4741-b70e-b3ee7626455b",
            "nodeType": "ScriptedDecisionNode",
            "details": {
                "inputs": ["*"],
                "outcomes": ["hasSession", "noSession"],
                "outputs": ["*"],
                "script": "c4001e02-469c-4cc4-bf95-9f43d7e46568"
            }
        },
        {
            "_id": "a47f8659-4bec-43e2-baa4-b269ded1782d",
            "nodeType": "SessionDataNode",
            "details": {
                "sessionDataKey": "UserToken",
                "sharedStateKey": "userName"
            }
        },
        {
            "_id": "0965f6e5-b804-4375-a5e7-0f59f2a3529c",
            "nodeType": "IdentifyExistingUserNode",
            "details": {
                "identifier": "userName",
                "identityAttribute": "mail"
            }
        },
        {
            "_id": "bc190e4b-1503-49bf-9ee2-0f486373578e",
            "nodeType": "PageNode",
            "details": {
                "nodes": [{
                    "_id": "63194a1b-23d4-4483-9d59-b86592e5075b",
                    "nodeType": "ScriptedDecisionNode",
                    "displayName": "Scripted Decision"
                }],
                "pageDescription": {
                    "desc": "Please enter the credential to validate"
                },
                "pageHeader": {
                    "header": "Please enter the credential"
                },
                "stage": "VALIDATE_CREDENTIAL_1"
            }
        },
        {
            "_id": "63194a1b-23d4-4483-9d59-b86592e5075b",
            "nodeType": "ScriptedDecisionNode",
            "details": {
                "inputs": ["*"],
                "outcomes": ["true", "false"],
                "outputs": ["*"],
                "script": "9dc0bbc6-8894-4d23-a13f-8619a3fcad5b"
            }
        },
        {
            "_id": "da2763c9-5111-4dfd-9522-b6d1d8f56656",
            "nodeType": "ScriptedDecisionNode",
            "details": {
                "inputs": ["*"],
                "outcomes": ["success", "error"],
                "outputs": ["*"],
                "script": "c0ab8c9c-b9b2-4bb7-b427-f10ddf9db149"
            }
        },
        {
            "_id": "deb53ca4-0000-4059-8629-dbf0728b4370",
            "nodeType": "ScriptedDecisionNode",
            "details": {
                "inputs": ["*"],
                "outcomes": ["true", "false"],
                "outputs": ["*"],
                "script": "0771b655-768c-407b-800b-89b70bbe1407"
            }
        },
        {
            "_id": "f0de0cf7-ac42-44b4-be5a-d0ec6e3c5e77",
            "nodeType": "ScriptedDecisionNode",
            "details": {
                "inputs": ["*"],
                "outcomes": ["true", "false"],
                "outputs": ["*"],
                "script": "65d2099f-9583-47d3-8303-8051709cb436"
            }
        },
        {
            "_id": "eb036e4a-6573-4dbf-b717-d2835ca014d3",
            "nodeType": "RetryLimitDecisionNode",
            "details": {
                "retryLimit": 3
            }
        }
    ],
    "tree": {
        "_id": "CHCredentialValidationAuthCode",
        "description": "As an authenticated user, validate a supplied cleartext credential against a hashed company auth code",
        "identityResource": "managed/alpha_user",
        "entryNodeId": "3e5d584e-833e-4741-b70e-b3ee7626455b",
        "staticNodes": {
            "startNode": {
                "x": 62,
                "y": 103
            },
            "70e691a5-1e33-4ac3-a356-e7b6d60d92e0": {
                "x": 2009,
                "y": 187
            },
            "e301438c-0bd0-429c-ab0c-66126501069a": {
                "x": 1764,
                "y": 747
            }
        },
        "uiConfig": {},
        "nodes": {
            "0965f6e5-b804-4375-a5e7-0f59f2a3529c": {
                "x": 627.828125,
                "y": 333.015625,
                "connections": {
                    "false": "e301438c-0bd0-429c-ab0c-66126501069a",
                    "true": "bc190e4b-1503-49bf-9ee2-0f486373578e"
                },
                "nodeType": "IdentifyExistingUserNode",
                "displayName": "Identify Existing User"
            },
            "3e5d584e-833e-4741-b70e-b3ee7626455b": {
                "x": 157,
                "y": 365.015625,
                "connections": {
                    "hasSession": "a47f8659-4bec-43e2-baa4-b269ded1782d",
                    "noSession": "e301438c-0bd0-429c-ab0c-66126501069a"
                },
                "nodeType": "ScriptedDecisionNode",
                "displayName": "Check for Session"
            },
            "a47f8659-4bec-43e2-baa4-b269ded1782d": {
                "x": 406,
                "y": 261.015625,
                "connections": {
                    "outcome": "0965f6e5-b804-4375-a5e7-0f59f2a3529c"
                },
                "nodeType": "SessionDataNode",
                "displayName": "Get Session Data"
            },
            "bc190e4b-1503-49bf-9ee2-0f486373578e": {
                "x": 921,
                "y": 237.015625,
                "connections": {
                    "false": "e301438c-0bd0-429c-ab0c-66126501069a",
                    "true": "da2763c9-5111-4dfd-9522-b6d1d8f56656"
                },
                "nodeType": "PageNode",
                "displayName": "Enter Credential"
            },
            "da2763c9-5111-4dfd-9522-b6d1d8f56656": {
                "x": 1174,
                "y": 222.015625,
                "connections": {
                    "error": "e301438c-0bd0-429c-ab0c-66126501069a",
                    "success": "deb53ca4-0000-4059-8629-dbf0728b4370"
                },
                "nodeType": "ScriptedDecisionNode",
                "displayName": "Get IDM Access Token"
            },
            "deb53ca4-0000-4059-8629-dbf0728b4370": {
                "x": 1437,
                "y": 155.015625,
                "connections": {
                    "false": "e301438c-0bd0-429c-ab0c-66126501069a",
                    "true": "f0de0cf7-ac42-44b4-be5a-d0ec6e3c5e77"
                },
                "nodeType": "ScriptedDecisionNode",
                "displayName": "CH Fetch Company Auth Code"
            },
            "f0de0cf7-ac42-44b4-be5a-d0ec6e3c5e77": {
                "x": 1730,
                "y": 161.015625,
                "connections": {
                    "true": "70e691a5-1e33-4ac3-a356-e7b6d60d92e0",
                    "false": "eb036e4a-6573-4dbf-b717-d2835ca014d3"
                },
                "nodeType": "ScriptedDecisionNode",
                "displayName": "Call Validation Service"
            },
            "eb036e4a-6573-4dbf-b717-d2835ca014d3": {
                "x": 811,
                "y": 740.015625,
                "connections": {
                    "Retry": "bc190e4b-1503-49bf-9ee2-0f486373578e",
                    "Reject": "e301438c-0bd0-429c-ab0c-66126501069a"
                },
                "nodeType": "RetryLimitDecisionNode",
                "displayName": "Retry Limit Decision"
            }
        }
    }
}